<div class="container my-5">
  <h2 class="text-center mb-4">{{ isEditMode ? 'Editar Tarefa' : 'Nova Tarefa' }}</h2>

  <form [formGroup]="taskForm" (ngSubmit)="saveTask()" enctype="multipart/form-data">
    <!-- Campo Título -->
    <div class="mb-3">
      <label for="title" class="form-label">Título</label>
      <input
        type="text"
        id="title"
        class="form-control"
        formControlName="title"
        required
      />
      <div *ngIf="taskForm.controls['title'].invalid && taskForm.controls['title'].touched" class="text-danger">
        O título é obrigatório.
      </div>
    </div>

    <!-- Campo Descrição -->
    <div class="mb-3">
      <label for="description" class="form-label">Descrição</label>
      <textarea
        id="description"
        class="form-control"
        formControlName="description"
        rows="4"
        required
      ></textarea>
      <div *ngIf="taskForm.controls['description'].invalid && taskForm.controls['description'].touched" class="text-danger">
        A descrição é obrigatória.
      </div>
    </div>

    <!-- Checkbox Concluída -->
    <div class="mb-3 form-check">
      <input
        type="checkbox"
        class="form-check-input"
        id="isCompleted"
        formControlName="isCompleted"
      />
      <label class="form-check-label" for="isCompleted">Concluída</label>
    </div>

    <!-- Campo de Upload de Arquivo -->
    <div class="mb-3">
      <label for="attachment" class="form-label">Anexo</label>
      <input
        type="file"
        id="attachment"
        class="form-control"
        (change)="onFileSelected($event)"
      />
    </div>

    <!-- Botões de Ação -->
    <button type="submit" class="btn btn-primary" [disabled]="taskForm.invalid">
      {{ isEditMode ? 'Atualizar' : 'Criar' }}
    </button>
    <a class="btn btn-secondary" [routerLink]="['/tasks']">Cancelar</a>
  </form>
</div>
